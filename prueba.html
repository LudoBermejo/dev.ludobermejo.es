<html>
<head>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>


</head>

<body>
<div class="container">
    <div class="packery" >

    </div>

</div>
<script>
    function generateMaze(width, height) {
        var totalCells = (width*height)-1;

        var arrayCellsVisited = [];

        var positions = new Array();


        for(var i=0;i<=width-1;i++) {

            positions[i] = new Array();
            for(var j=0;j<=height-1;j++) {
                positions[i][j] = {
                    visited: 0,
                    walls: {
                        top: 1,
                        bottom: 1,
                        left: 1,
                        right: 1
                    }
                }
            }
        }

        var here = {
            x: Math.floor(Math.random() * width),
            y: Math.floor(Math.random() * height)
        }
        positions[here.x][here.y] = 1;


        //totalCells = 50;
        while(totalCells) {
            var neighbours = [ { x: here.x-1, y: here.y}, {x:here.x+1,y:here.y}, {x:here.x, y:here.y-1}, {x: here.x, y: here.y+1}]
            while(neighbours.length) {
                var r = Math.floor(Math.random() * neighbours.length-1)+1;
                var n = neighbours.splice(r,1)[0];

                if(n.x >= 0 && n.y >= 0 && n.x < width && n.y < height) {
                    if( positions[n.x][n.y] == 0) {
                        var dif = { x: (n.x - here.x), y: (n.y - here.y) };
                        positions[n.x][n.y].visited = 1;


                        here = n;
                        totalCells--;
                        arrayCellsVisited.push(here);
                        break;
                    }
                }
            }

            if(neighbours == 0) {
                here = arrayCellsVisited.pop();
            }

        }

        return walls;

    }

    var walls = generateMaze(20,20);


    var lines = [];
    for(var i=0;i<=walls.length-1;i++){

        lines[i] = "";
        for(var j=0;j<=walls.length-1;j++){
            if(walls[i][j] == 1) {
                lines[i] += "-";
            } else {
                lines[i] += " ";
            }
        }
    }

    console.log(lines);


</script>
</body>
</html>