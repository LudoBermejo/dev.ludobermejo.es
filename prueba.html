<html>
<body>

<script>


    // Ok, let's define all three type of tickets
    function CinemaTicket( options ) {
        // some defaults
        this.movie = options.movie || "Birdman";
        this.canChangeSeats = options.canChangeSeats || false;
        this.row = options.row || "more or less centered";
        this.seat = options.seat || "crick creator";
        this.childs = options.childs || "yes, with the mobile full charged";
    }

    // A constructor for define what a regular ticket is
    function ConcertTicket( options ) {
        this.artist = options.artist || "Skrillex";
        this.date = options.date || "Only on christmas";
        this.where = options.where || "Tokyo stadium";
    }

    // A constructor for define what a premium ticket is
    function WrestlingTicket( options ) {
        // some defaults
        this.row = options.row || "more or less centered";
        this.seat = options.seat || "crick creator";
        this.combat = options.combat || "All stars";
    }

    // Ok, now we create an abstract class
    var AbstractTickerBuyerFactory = (function() {
        var typeOfTickets = {};

        return {

            // We can add the type of tickets we want to support
            addTypeOfTicket: function(name,classOfTicket) {
                typeOfTickets[name] = classOfTicket;
            },

            // And now the boring get ticket things
            getTicket: function(type, specs) {
                var Ticket = typeOfTickets[type];
                if(Ticket) return new Ticket(specs);
                return null
            }
        }
    })();

    // Ok, let's tregister the tickets
    AbstractTickerBuyerFactory.addTypeOfTicket("cinema", CinemaTicket);
    AbstractTickerBuyerFactory.addTypeOfTicket("concert", ConcertTicket);
    AbstractTickerBuyerFactory.addTypeOfTicket("wrestling", WrestlingTicket);

    // And know let's create some tickets:
    var giveMeACinemaTicket = AbstractTickerBuyerFactory.getTicket("cinema", {
        movie: "Star wars VIII",
        childs: "No way"
    })
    console.log(JSON.stringify(giveMeACinemaTicket));
    // returns {"movie":"Star wars VIII","canChangeSeats":false,"row":"more or less centered","seat":"crick creator","childs":"No way"}

    var giveMeAConcertTicket = AbstractTickerBuyerFactory.getTicket("concert", {
    })
    console.log(JSON.stringify(giveMeAConcertTicket));
    // returns {"artist":"Skrillex","date":"Only on christmas","where":"Tokyo stadium"}

    var giveMeAWrestlingTicket = AbstractTickerBuyerFactory.getTicket("wrestling", {
        combat: "Last warrior resurrected VS Old boy Hulk Hogan"
    })
    console.log(JSON.stringify(giveMeAWrestlingTicket));
    // returns "row":"more or less centered","seat":"crick creator","combat":"Last warrior resurrected VS Old boy Hulk Hogan"}
</script>

</body>

</html>